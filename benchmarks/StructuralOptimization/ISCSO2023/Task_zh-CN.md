# ISCSO 2023 — 284 杆 3D 桁架尺寸优化

## 1. 背景

**国际结构优化学生竞赛（ISCSO）** 2023 提出了一个大规模 3D 空间桁架尺寸优化问题。与包含形状优化的 2015 年问题不同，ISCSO 2023 是一个**纯尺寸优化**问题，维度更高（284 个设计变量）。

该结构是一个锥形 3D 塔式桁架，包含 92 个节点和 284 根杆件，承受三种不同的载荷工况，代表风载和重力载荷。此问题考验优化器处理以下方面的能力：

- 高维连续设计空间
- 多载荷工况，不同工况下约束关键杆件不同
- 杆件尺寸通过共享节点的耦合关系
- 复杂的非凸可行域

## 2. 问题描述

结构为一个截面从底到顶逐渐收缩的 **3D 塔式桁架**：

- **92 个节点**：23 层（每层 4 个节点）
- **284 根杆件**：竖向柱（88）、水平周圈杆（92）、面斜撑（88）、楼板交叉撑（16）
- **3 个载荷工况**：X 和 Y 方向的侧向载荷，以及 Z 方向的竖向载荷

任务是通过优化每根杆件的截面面积，使总结构重量最小，同时满足三个载荷工况下的应力和位移约束。

### 2.1 结构布局

塔沿 Z 轴有 23 层（0 至 22 层）。每层 4 个节点构成正方形截面。截面宽度从底部 4000 mm 线性渐缩至顶部 1000 mm。

```
第 22 层（顶）：  o---o     高度：40000 mm
                  |   |     宽度：1000 mm
                  o---o

     ...          线性渐缩

第 0 层（底）：   O---O     高度：0 mm
                  |   |     宽度：4000 mm
                  O---O
                  （铰支座）
```

杆件分组：
- **竖向柱**（88）：连接相邻层的对应节点
- **水平周圈杆**（92）：每层构成方形框架
- **面斜撑**（88）：每面每跨一根斜撑
- **楼板交叉撑**（16）：在选定层（1, 4, 7, 10, 13, 16, 19, 22）布置交叉撑

## 3. 数学定义

### 3.1 设计变量

总维度：**284**

```
x = [A_0, A_1, ..., A_283]
```

- `A_i`（i = 0..283）：第 i 根杆件的截面面积，单位 mm²

### 3.2 变量范围

| 变量 | 下界 | 上界 | 单位 |
| :--- | ---: | ---: | :--- |
| A_i（截面面积） | 10.0 | 20000.0 | mm² |

### 3.3 目标函数

最小化总结构重量：

```
W(x) = sum_{i=0}^{283} rho * L_i * A_i
```

其中：
- `rho = 7.86e-6 kg/mm³`（钢材密度）
- `L_i` 为杆件 i 的长度（固定，由几何确定）
- `A_i` 为杆件 i 的截面面积

**注意**：与 ISCSO 2015 不同，所有杆件长度固定（无形状变量），因此目标函数对设计变量是线性的。但约束是非线性的。

### 3.4 约束条件

对于**每个**载荷工况 `k = 0, 1, 2`：

1. **应力约束**（所有杆件）：

```
|sigma_{i,k}(x)| <= sigma_allow = 248.2 MPa,  对 i = 0..283
```

2. **位移约束**（所有自由自由度）：

```
|delta_{j,k}(x)| <= delta_allow = 10.0 mm,  对所有自由自由度 j
```

3. **变量范围约束**（见第 3.2 节）

一个解是**可行的**，当且仅当所有载荷工况下的所有约束都被满足。

## 4. 物理模型

结构为**3D 空间桁架**结构。需要使用适当的结构分析方法（如有限元分析）计算结构响应（节点位移和杆件应力），以评估约束满足情况。

关键物理关系：
- 杆件应力取决于外载荷、杆件截面积和结构几何
- 节点位移取决于结构刚度，而刚度是杆件面积的函数
- 所有载荷工况下的应力和位移约束必须同时满足

## 5. 问题数据

所有问题数据存储在 `references/problem_data.json` 中。拓扑由塔参数化描述生成。

### 5.1 材料属性

| 属性 | 值 | 单位 |
| :--- | ---: | :--- |
| 弹性模量 (E) | 200,000 | MPa |
| 密度 (rho) | 7.86e-6 | kg/mm³ |

### 5.2 约束限值

| 约束 | 值 | 单位 |
| :--- | ---: | :--- |
| 许用应力 (sigma_allow) | 248.2 | MPa |
| 许用位移 (delta_allow) | 10.0 | mm |

### 5.3 载荷工况

| 工况 | 描述 | 施加载荷 |
| :--- | :--- | :--- |
| LC 0 | X 方向侧向风载 | 顶部 4 个节点共 12 kN（每节点 3 kN）+X |
| LC 1 | Y 方向侧向风载 | 顶部 4 个节点共 12 kN（每节点 3 kN）+Y |
| LC 2 | Z 方向竖向重力载荷 | 顶部 4 个节点共 15 kN（每节点 3.75 kN）-Z |

### 5.4 支座条件

| 节点 | 类型 | 固定自由度 |
| :--- | :--- | :--- |
| 0, 1, 2, 3（第 0 层） | 铰支座 | x, y, z（全部） |

## 6. 输入/输出格式

### 6.1 提交格式

```json
{
  "benchmark_id": "iscso_2023",
  "solution_vector": [A_0, A_1, ..., A_283],
  "algorithm": "<算法名称>",
  "num_evaluations": <整数>
}
```

### 6.2 评估输出

```json
{
  "objective": <重量 kg>,
  "feasible": <true/false>,
  "max_stress_violation": <max(|sigma| - sigma_allow), 可行时为 0>,
  "max_displacement_violation": <max(|delta| - delta_allow), 可行时为 0>,
  "score": <可行时为重量，否则为 Infinity>
}
```

## 7. 评分标准

1. **可行性检查**：所有 3 个载荷工况下的应力和位移约束必须满足（容差 `tol = 1e-6`）。
2. **如不可行**：`score = +Infinity`
3. **如可行**：`score = W(x)`（总结构重量，单位 kg）
4. **排名依据**：分数越低越好。

## 8. 参考资料

- ISCSO 竞赛：[http://www.brightoptimizer.com/](http://www.brightoptimizer.com/)
- 问题数据：`references/problem_data.json`
- 评估代码：`verification/evaluator.py`

